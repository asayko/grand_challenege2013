% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

% This is a simple template for a LaTeX document using the "article" class.
% See "book", "report", "letter" for other types of document.

\documentclass[11pt]{article} % use larger type; default would be 10pt

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)

%%% Examples of Article customizations
% These packages are optional, depending whether you want the features they provide.
% See the LaTeX Companion or other references for full information.

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{a4paper} % or letterpaper (US) or a5paper or....
% \geometry{margin=2in} % for example, change the margins to 2 inches all round
% \geometry{landscape} % set up the page for landscape
%   read geometry.pdf for detailed page layout information

\usepackage{graphicx} % support the \includegraphics command and options

% \usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES
\usepackage{amsmath}
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
% These packages are all incorporated in the memoir class to one degree or another...

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}

%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
% (This matches ConTeXt defaults)

%%% ToC (table of contents) APPEARANCE
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!

%%% END Article customizations

%%% The "real" document content comes below...

\title{Report on a baseline approach to the second MSR-Bing Challenge on Image Retrieval.}
\author{Aleksandr Sayko, Anton Slesarev}
%\date{} % Activate to display a given date or no date (if empty),
         % otherwise the current date is printed 

\begin{document}
\maketitle

\abstract{In the report we present a baseline approach for solving the problem which was set within the second MSR-Bing Challenge on Image Retrieval \cite{GrandChallengeSite}. Our goal is to present a simple method to estimate image's relevance to the given search query based on similarity matching with pictures that were clicked on alike search queries. The relevance }

\section{Extracting click-relevant images from the  click log for a query.}

Inverted index on the click log.

\subsection{A subsection}

More text.

\section{Comparing given image with click-relevant images for the query.}
To calculate visual similarity score between two images we use a standard bag-of-words
framework \cite{Sivic03}, with images represented as L2 normalized histograms of
visual words. We use rather small vocabulary consisted of 32768 visual
words, trained from SIFT descriptors. If an L2 distance between
histograms less than a threshold we believe that two images have
something in common. After that we consider features as matches if
features assign to the same visual vocabulary cluster. We apply
RANSAC-based geometric verification to find a maximal set of feature
matches such that features in one image can be mapped to their
corresponding features in the other by a similarity transformation.
We also tried more complicated transformations but did not recieve any
profit. Matches which correspond to the best transformations are
called inliers. The number of inliers characterizes similarity of two images.

We can describe final score as:

$$
    SimScore = 
\begin{cases}
    0,& \text{if L2 dist} \geq thr\\
    I / \sqrt{N_1, N_2},              & \text{otherwise}
\end{cases}
$$

Here, $N_1$ and $N_2$ are the number of descriptors on first and second images consequently.

We use square root normalization beacause some works\cite{jegou:inria-00602325} showed that it
outperforms standart normalization on the number of descriptors.


\bibliographystyle{abbrv}
\bibliography{bib.bib}
%\begin{thebibliography}{widest entry}
%\bibitem{GrandChallengeSite} GrandChallengeSite
%\bibitem{cite_key2} 

%\end{thebibliography}

\end{document}
